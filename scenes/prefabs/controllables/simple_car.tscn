[gd_scene load_steps=17 format=3 uid="uid://b1e5tur6memej"]

[ext_resource type="Script" uid="uid://dbleug2gqv7c5" path="res://scripts/nodes/interactive.gd" id="1_51xss"]
[ext_resource type="Script" uid="uid://c6fwss4rippt7" path="res://scripts/nodes/simple_car.gd" id="1_ls0ui"]
[ext_resource type="Script" uid="uid://dfwpyddi4qity" path="res://scripts/nodes/pawn.gd" id="3_rftf1"]
[ext_resource type="AudioStream" uid="uid://bn584unj1f8sf" path="res://assets/audio/vehicle/engine.mp3" id="3_wkwv2"]
[ext_resource type="Script" uid="uid://n6rn6nqrlobe" path="res://scripts/states/pstate_rider_agent_player.gd" id="4_rftf1"]
[ext_resource type="Script" uid="uid://bd23iumnmi8bj" path="res://scripts/states/pawn_state.gd" id="5_1l2sd"]
[ext_resource type="Script" uid="uid://d21y1uy7e6sf6" path="res://scripts/states/pstate_rider_agent_player_vehicle.gd" id="6_3g0rj"]
[ext_resource type="AudioStream" uid="uid://jxlogpucylmw" path="res://assets/audio/vehicle/horn.mp3" id="6_eu13v"]
[ext_resource type="ArrayMesh" uid="uid://dlnu11aabyafl" path="res://assets/model/vehicles/SportsCar.obj" id="7_eu13v"]

[sub_resource type="Resource" id="Resource_1l2sd"]
script = ExtResource("6_3g0rj")
metadata/_custom_type_script = "uid://d21y1uy7e6sf6"

[sub_resource type="CylinderShape3D" id="CylinderShape3D_1l2sd"]

[sub_resource type="Resource" id="Resource_cbc8n"]
script = ExtResource("4_rftf1")
metadata/_custom_type_script = "uid://n6rn6nqrlobe"

[sub_resource type="Resource" id="Resource_f1cp1"]
script = ExtResource("4_rftf1")
metadata/_custom_type_script = "uid://n6rn6nqrlobe"

[sub_resource type="SphereShape3D" id="SphereShape3D_l1hn7"]

[sub_resource type="CylinderMesh" id="CylinderMesh_ls0ui"]
top_radius = 0.25
bottom_radius = 0.25
height = 0.25
radial_segments = 32
rings = 1

[sub_resource type="BoxShape3D" id="BoxShape3D_ce6gi"]
size = Vector3(2, 1, 3)

[node name="simple_car" type="VehicleBody3D"]
script = ExtResource("1_ls0ui")
suspension_stiff_value = 50.0

[node name="drivers_seat" type="Node3D" parent="." node_paths=PackedStringArray("node", "rider_interact", "rider_unmount_area")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.4729668, 0.24864864, -0.7694926)
script = ExtResource("3_rftf1")
node = NodePath("..")
rider_interact = NodePath("../door_driver")
rider_unmount_area = NodePath("exit")
states = Array[ExtResource("5_1l2sd")]([SubResource("Resource_1l2sd")])
metadata/_custom_type_script = "uid://dfwpyddi4qity"

[node name="exit" type="Area3D" parent="drivers_seat"]
transform = Transform3D(-4.371139e-08, 0, 1, 0, 1, 0, -1, 0, -4.371139e-08, -0.8311081, -0.2119757, 0.51469857)
monitorable = false

[node name="CollisionShape3D" type="CollisionShape3D" parent="drivers_seat/exit"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.009041369, 0.8677578, -0.20000002)
shape = SubResource("CylinderShape3D_1l2sd")

[node name="trunk" type="Node3D" parent="." node_paths=PackedStringArray("node", "rider_interact")]
script = ExtResource("3_rftf1")
node = NodePath(".")
rider_interact = NodePath("../door_trunk")
states = Array[ExtResource("5_1l2sd")]([SubResource("Resource_cbc8n")])
metadata/_custom_type_script = "uid://dfwpyddi4qity"

[node name="passenger_seat" type="Node3D" parent="." node_paths=PackedStringArray("node", "rider_interact")]
script = ExtResource("3_rftf1")
node = NodePath(".")
rider_interact = NodePath("../door_passenger")
states = Array[ExtResource("5_1l2sd")]([SubResource("Resource_f1cp1")])
metadata/_custom_type_script = "uid://dfwpyddi4qity"

[node name="door_driver" type="Area3D" parent="."]
unique_name_in_owner = true
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.2311136, 0.1642046, -0.264702)
collision_layer = 512
collision_mask = 0
monitoring = false
script = ExtResource("1_51xss")
label = "Driver's Seat"
toggle_labels = PackedStringArray("Interact [Turn Off]", "Interact [Turn On]")

[node name="CollisionShape3D" type="CollisionShape3D" parent="door_driver"]
shape = SubResource("SphereShape3D_l1hn7")

[node name="door_passenger" type="Area3D" parent="."]
unique_name_in_owner = true
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.2475117, 0.1642046, -0.264702)
collision_layer = 512
collision_mask = 0
monitoring = false
script = ExtResource("1_51xss")
label = "Passenger Seat"
toggle_labels = PackedStringArray("Interact [Turn Off]", "Interact [Turn On]")

[node name="CollisionShape3D" type="CollisionShape3D" parent="door_passenger"]
shape = SubResource("SphereShape3D_l1hn7")

[node name="door_trunk" type="Area3D" parent="."]
unique_name_in_owner = true
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.03177941, 0.1642046, 1.8941003)
collision_layer = 512
collision_mask = 0
monitoring = false
script = ExtResource("1_51xss")
label = "Trunk"
toggle_labels = PackedStringArray("Interact [Turn Off]", "Interact [Turn On]")

[node name="CollisionShape3D" type="CollisionShape3D" parent="door_trunk"]
shape = SubResource("SphereShape3D_l1hn7")

[node name="wheel_front_driver" type="VehicleWheel3D" parent="."]
unique_name_in_owner = true
transform = Transform3D(-1, 0, -8.742278e-08, 0, 1, 0, 8.742278e-08, 0, -1, 0.6835728, 0.27768755, -1.1792812)
use_as_traction = true
use_as_steering = true
wheel_radius = 0.25

[node name="MeshInstance3D" type="MeshInstance3D" parent="wheel_front_driver"]
transform = Transform3D(-4.371139e-08, -1, 0, 1, -4.371139e-08, 0, 0, 0, 1, 0, 0, 0)
mesh = SubResource("CylinderMesh_ls0ui")
skeleton = NodePath("")

[node name="wheel_front_passenger" type="VehicleWheel3D" parent="."]
unique_name_in_owner = true
transform = Transform3D(-1, 0, -8.742278e-08, 0, 1, 0, 8.742278e-08, 0, -1, -0.6824745, 0.27768755, -1.1792812)
use_as_traction = true
use_as_steering = true
wheel_radius = 0.25

[node name="MeshInstance3D" type="MeshInstance3D" parent="wheel_front_passenger"]
transform = Transform3D(-4.371139e-08, -1, 0, 1, -4.371139e-08, 0, 0, 0, 1, 0, 0, 0)
mesh = SubResource("CylinderMesh_ls0ui")
skeleton = NodePath("")

[node name="wheel_back_driver" type="VehicleWheel3D" parent="."]
unique_name_in_owner = true
transform = Transform3D(-1, 0, -8.742278e-08, 0, 1, 0, 8.742278e-08, 0, -1, 0.6835728, 0.27768755, 1.2043667)
wheel_radius = 0.25

[node name="MeshInstance3D" type="MeshInstance3D" parent="wheel_back_driver"]
transform = Transform3D(-4.371139e-08, -1, 0, 1, -4.371139e-08, 0, 0, 0, 1, 0, 0, 0)
mesh = SubResource("CylinderMesh_ls0ui")
skeleton = NodePath("")

[node name="wheel_back_passenger" type="VehicleWheel3D" parent="."]
unique_name_in_owner = true
transform = Transform3D(-1, 0, -8.742278e-08, 0, 1, 0, 8.742278e-08, 0, -1, -0.6824745, 0.27768755, 1.2043667)
wheel_radius = 0.25

[node name="MeshInstance3D" type="MeshInstance3D" parent="wheel_back_passenger"]
transform = Transform3D(-4.371139e-08, -1, 0, 1, -4.371139e-08, 0, 0, 0, 1, 0, 0, 0)
mesh = SubResource("CylinderMesh_ls0ui")
skeleton = NodePath("")

[node name="light_front_driver" type="SpotLight3D" parent="."]
unique_name_in_owner = true
transform = Transform3D(1, 0, 0, 0, 0.9659259, 0.25881907, 0, -0.25881907, 0.9659258, -0.5, 0.5270891, -1.8324441)
visible = false
light_energy = 2.0
spot_range = 10.0
spot_attenuation = 2.0

[node name="light_front_passenger" type="SpotLight3D" parent="."]
unique_name_in_owner = true
transform = Transform3D(1, 0, 0, 0, 0.9659259, 0.25881907, 0, -0.25881907, 0.9659258, 0.5, 0.5270891, -1.8324441)
visible = false
light_energy = 2.0
spot_range = 10.0
spot_attenuation = 2.0

[node name="light_brake_driver" type="OmniLight3D" parent="."]
unique_name_in_owner = true
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.5, 0.7263551, 1.6)
visible = false
light_color = Color(1, 0, 0, 1)
omni_range = 2.0

[node name="light_brake_passenger" type="OmniLight3D" parent="."]
unique_name_in_owner = true
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.5, 0.7263551, 1.6)
visible = false
light_color = Color(1, 0, 0, 1)
omni_range = 2.0

[node name="SportsCar" type="MeshInstance3D" parent="."]
transform = Transform3D(-1, 0, -8.742278e-08, 0, 1, 0, 8.742278e-08, 0, -1, 0, 0.036379695, 0)
mesh = ExtResource("7_eu13v")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.6694448, 0)
shape = SubResource("BoxShape3D_ce6gi")

[node name="aux_engine" type="AudioStreamPlayer3D" parent="."]
unique_name_in_owner = true
stream = ExtResource("3_wkwv2")

[node name="aux_horn" type="AudioStreamPlayer3D" parent="."]
unique_name_in_owner = true
stream = ExtResource("6_eu13v")
